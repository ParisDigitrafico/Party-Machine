!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(l){"use strict";var d="animsition",u={init:function(o){o=l.extend({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",loadingInner:"",timeout:!1,timeoutCountdown:5e3,onLoadEvent:!0,browser:["animation-duration","-webkit-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",transition:function(t){window.location.href=t}},o),u.settings={timer:!1,data:{inClass:"animsition-in-class",inDuration:"animsition-in-duration",outClass:"animsition-out-class",outDuration:"animsition-out-duration",overlay:"animsition-overlay"},events:{inStart:"animsition.inStart",inEnd:"animsition.inEnd",outStart:"animsition.outStart",outEnd:"animsition.outEnd"}};var t=u.supportCheck.call(this,o);return t||!(0<o.browser.length)||t&&this.length?(u.optionCheck.call(this,o)&&l("."+o.overlayClass).length<=0&&u.addOverlay.call(this,o),o.loading&&l("."+o.loadingClass).length<=0&&u.addLoading.call(this,o),this.each(function(){var a=this,t=l(this),n=l(window),i=l(document);t.data(d)||(o=l.extend({},o),t.data(d,{options:o}),o.timeout&&u.addTimer.call(a),o.onLoadEvent&&n.on("load."+d,function(){u.settings.timer&&clearTimeout(u.settings.timer),u.in.call(a)}),n.on("pageshow."+d,function(t){t.originalEvent.persisted&&u.in.call(a)}),n.on("unload."+d,function(){}),i.on("click."+d,o.linkElement,function(t){t.preventDefault();var n=l(this),i=n.attr("href");i.includes("javascript:")||(2===t.which||t.metaKey||t.shiftKey||-1!==navigator.platform.toUpperCase().indexOf("WIN")&&t.ctrlKey?window.open(i,"_blank"):u.out.call(a,n,i))}))})):("console"in window||(window.console={},window.console.log=function(t){return t}),this.length||console.log("Animsition: Element does not exist on page."),t||console.log("Animsition: Does not support this browser."),u.destroy.call(this))},addOverlay:function(t){l(t.overlayParentElement).prepend('<div class="'+t.overlayClass+'"></div>')},addLoading:function(t){l(t.loadingParentElement).append('<div class="'+t.loadingClass+'">'+t.loadingInner+"</div>")},removeLoading:function(){var t=l(this).data(d).options;l(t.loadingParentElement).children("."+t.loadingClass).fadeOut().remove()},addTimer:function(){var t=this,n=l(this).data(d).options;u.settings.timer=setTimeout(function(){u.in.call(t),l(window).off("load."+d)},n.timeoutCountdown)},supportCheck:function(t){var n=l(this),i=t.browser,a=i.length,o=!1;0===a&&(o=!0);for(var e=0;e<a;e++)if("string"==typeof n.css(i[e])){o=!0;break}return o},optionCheck:function(t){var n=l(this),n=!(!t.overlay&&!n.data(u.settings.data.overlay));return n},animationCheck:function(t,n,i){var a=l(this).data(d).options,o=typeof t,e=!n&&"number"==o,o=n&&"string"==o&&0<t.length;return e||o||(n&&i?t=a.inClass:!n&&i?t=a.inDuration:n&&!i?t=a.outClass:n||i||(t=a.outDuration)),t},in:function(){var t=this,n=l(this),i=n.data(d).options,a=n.data(u.settings.data.inDuration),o=n.data(u.settings.data.inClass),e=u.animationCheck.call(t,a,!1,!0),s=u.animationCheck.call(t,o,!0,!0),a=u.optionCheck.call(t,i),o=n.data(d).outClass;i.loading&&u.removeLoading.call(t),o&&n.removeClass(o),(a?u.inOverlay:u.inDefault).call(t,s,e)},inDefault:function(t,n){var i=l(this);i.css({"animation-duration":n+"ms"}).addClass(t).trigger(u.settings.events.inStart).animateCallback(function(){i.removeClass(t).css({opacity:1}).trigger(u.settings.events.inEnd)})},inOverlay:function(t,n){var i=l(this),a=i.data(d).options;i.css({opacity:1}).trigger(u.settings.events.inStart),l(a.overlayParentElement).children("."+a.overlayClass).css({"animation-duration":n+"ms"}).addClass(t).animateCallback(function(){i.trigger(u.settings.events.inEnd)})},out:function(t,n){var i=this,a=l(this),o=a.data(d).options,e=t.data(u.settings.data.outClass),s=a.data(u.settings.data.outClass),r=t.data(u.settings.data.outDuration),t=a.data(u.settings.data.outDuration),s=e||s,t=r||t,s=u.animationCheck.call(i,s,!0,!1),t=u.animationCheck.call(i,t,!1,!1),o=u.optionCheck.call(i,o);a.data(d).outClass=s,(o?u.outOverlay:u.outDefault).call(i,s,t,n)},outDefault:function(t,n,i){var a=l(this),o=a.data(d).options;a.css({"animation-duration":n+1+"ms"}).addClass(t).trigger(u.settings.events.outStart).animateCallback(function(){a.trigger(u.settings.events.outEnd),o.transition(i)})},outOverlay:function(t,n,i){var a=l(this),o=a.data(d).options,e=a.data(u.settings.data.inClass),e=u.animationCheck.call(this,e,!0,!0);l(o.overlayParentElement).children("."+o.overlayClass).css({"animation-duration":n+1+"ms"}).removeClass(e).addClass(t).trigger(u.settings.events.outStart).animateCallback(function(){a.trigger(u.settings.events.outEnd),o.transition(i)})},destroy:function(){return this.each(function(){var t=l(this);l(window).off("."+d),t.css({opacity:1}).removeData(d)})}};l.fn.animateCallback=function(n){var i="animationend webkitAnimationEnd";return this.each(function(){var t=l(this);t.on(i,function(){return t.off(i),n.call(this)})})},l.fn.animsition=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void l.error("Method "+t+" does not exist on jQuery."+d):u.init.apply(this,arguments)}});